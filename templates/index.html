{% extends 'base.html' %} {%block body_block%} {% load humanize %} {% load static %}

<style>
 .space{
  padding-right: 210px;
 }

 #space2{
  color: rgb(0, 169, 247);
  text-decoration: none;
  padding-right: 210px;
  list-style: none;
  
 }

 .menu-bar ul li a{
  text-decoration: none;
 }

 .menu-bar ul
 {
  display: inline-flex;
  list-style: none;
 }
  
 .sub-menu
 {
  display: none;  
  }

  
  .options:hover .sub-menu
  {
    display: block;
    position:absolute;
   /* background-color: rgba(245, 245, 220, 0.322);*/
    
    
        
  }
  .options:hover .sub-menu ul
  {
    display: block;  
    padding: 20px;
    font-size:20px;
       
  }
  /*.options:hover .sub-menu ul li a:hover
  {
    
    border-radius: 2px;       
    border: 2px rgb(34, 33, 33) solid;
    margin: 12px;
    
  }*/

  .options:hover .sub-menu ul li 
  {
    color: black;
  }
  .options:hover .sub-menu ul li #delete:hover
  {
    color: rgb(230, 16, 16);
  }
  .options:hover #edit{
    
    float: left;
    padding-top: 15px;
    padding-bottom: 15px;
  }


  #caption{
    width: 200px;
   text-align: justify;
  }

</style>

<div class="container" align="center">
  <h2>Recent Post</h2>


  {% for recent in recentpost reversed  %}

  <!-- <a href="{% url 'account:profile-detail-view' recent.user.id %}"
    style="text-decoration: none; color: rgb(0, 169, 247)">
    <strong>@{{recent}}</strong></a> -->

  {% if recent.user.id == user.id %}
  <div class="menu-bar">
  <ul>
    <li class="space"> <a href="{% url 'account:profile-detail-view' recent.user.id %}"
      style="text-decoration: none; color: rgb(0, 169, 247)">
      <strong>@{{recent}}</strong></a> </li>

    <li class="options">      
      <a href="#">        <!-- {% url 'account:post-delete-view' recent.id %} -->
        <img src="{% static 'more.png' %}" alt="" height="30px " />
      </a>

      <div class="sub-menu">
        <ul>
          <li><a id="delete" href="{% url 'account:post-delete-view' recent.id %}">Delete</a></li>
          <li><a id="edit" href="{% url 'account:post-update-view' recent.id %}">Edit  </a></li>
        </ul>
      </div>
    </li>
  </ul>
</div>

  {% else %}
  <ul>
  <a id="space2" href="{% url 'account:profile-detail-view' recent.user.id %}">
    <strong>@{{recent}}</strong></a>
  </ul>
  {% endif %}

  
  <a href="{{recent.user_post.url}}"><img src="{{recent.user_post.url}}" alt="img" width="250px" /></a>
  <!-- {% url 'account:post-detail-view' recent.id %} this can be used to let the post detail view -->
  <p>posted: {{recent.posted_days}}</p>

  
  <p id="caption" >caption: {{recent.caption}}</p>
  
  <p>
        <a href="/like-post?post_id={{recent.id}} " style="color: rgb(245, 44, 44)">
      <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-suit-heart-fill"
        viewBox="0 0 16 16">
        <path
          d="M4 1c2.21 0 4 1.755 4 3.92C8 2.755 9.79 1 12 1s4 1.755 4 3.92c0 3.263-3.234 4.414-7.608 9.608a.513.513 0 0 1-.784 0C3.234 9.334 0 8.183 0 4.92 0 2.755 1.79 1 4 1z" />
      </svg>
    </a>
    {{recent.likes}}
  </p>
  <hr>
  {% endfor%}
</div>

{% endblock %}